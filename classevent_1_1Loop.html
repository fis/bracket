<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>bracket: event::Loop Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">bracket
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classevent_1_1Loop.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classevent_1_1Loop-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">event::Loop Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Asynchronous event loop.  
 <a href="classevent_1_1Loop.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="loop_8h_source.html">loop.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acf8587cbfad1d8fcdb32083a7705bc71"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#acf8587cbfad1d8fcdb32083a7705bc71">PollFunc</a> = int(struct pollfd *, nfds_t, int)</td></tr>
<tr class="memdesc:acf8587cbfad1d8fcdb32083a7705bc71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function pointer type for the implementation of <code>poll(2)</code>.  <a href="#acf8587cbfad1d8fcdb32083a7705bc71">More...</a><br /></td></tr>
<tr class="separator:acf8587cbfad1d8fcdb32083a7705bc71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a968d040d731fa11415d35526d3f5d0c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a968d040d731fa11415d35526d3f5d0c4">Loop</a> (<a class="el" href="classevent_1_1Loop.html#acf8587cbfad1d8fcdb32083a7705bc71">PollFunc</a> *poll=&amp;::poll, std::unique_ptr&lt; <a class="el" href="structbase_1_1TimerFd.html">base::TimerFd</a> &gt; timerfd=std::unique_ptr&lt; <a class="el" href="structbase_1_1TimerFd.html">base::TimerFd</a> &gt;())</td></tr>
<tr class="memdesc:a968d040d731fa11415d35526d3f5d0c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a new event loop structure.  <a href="#a968d040d731fa11415d35526d3f5d0c4">More...</a><br /></td></tr>
<tr class="separator:a968d040d731fa11415d35526d3f5d0c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad452d28b68a2a7702dc61832ba6c87c0"><td class="memItemLeft" align="right" valign="top"><a id="ad452d28b68a2a7702dc61832ba6c87c0"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>DISALLOW_COPY</b> (<a class="el" href="classevent_1_1Loop.html">Loop</a>)</td></tr>
<tr class="separator:ad452d28b68a2a7702dc61832ba6c87c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84449dbafb23fb5668fc6760824ed1c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a84449dbafb23fb5668fc6760824ed1c7">ReadFd</a> (int fd, <a class="el" href="structevent_1_1FdReader.html">FdReader</a> *callback=nullptr, bool owned=false)</td></tr>
<tr class="memdesc:a84449dbafb23fb5668fc6760824ed1c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts or stops observing <code>fd</code> for reading.  <a href="#a84449dbafb23fb5668fc6760824ed1c7">More...</a><br /></td></tr>
<tr class="separator:a84449dbafb23fb5668fc6760824ed1c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddeba5fd2cac6150a455aa1a0db3f91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a9ddeba5fd2cac6150a455aa1a0db3f91">ReadFd</a> (int fd, const std::function&lt; void(int)&gt; &amp;callback)</td></tr>
<tr class="separator:a9ddeba5fd2cac6150a455aa1a0db3f91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd212dbda1fb531b7c0a4f60c20f8ea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#abd212dbda1fb531b7c0a4f60c20f8ea0">WriteFd</a> (int fd, <a class="el" href="structevent_1_1FdWriter.html">FdWriter</a> *callback=nullptr, bool owned=false)</td></tr>
<tr class="memdesc:abd212dbda1fb531b7c0a4f60c20f8ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts or stops observing <code>fd</code> for writing.  <a href="#abd212dbda1fb531b7c0a4f60c20f8ea0">More...</a><br /></td></tr>
<tr class="separator:abd212dbda1fb531b7c0a4f60c20f8ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab797a8a274f5be3579f56e5f8c2554f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#ab797a8a274f5be3579f56e5f8c2554f2">WriteFd</a> (int fd, const std::function&lt; void(int)&gt; &amp;callback)</td></tr>
<tr class="separator:ab797a8a274f5be3579f56e5f8c2554f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d98563541c29f191ada9db6342d2f1"><td class="memTemplParams" colspan="2">template&lt;typename Duration &gt; </td></tr>
<tr class="memitem:ab9d98563541c29f191ada9db6342d2f1"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#ab9d98563541c29f191ada9db6342d2f1">Delay</a> (Duration delay, <a class="el" href="structevent_1_1Timed.html">Timed</a> *callback, bool owned=false)</td></tr>
<tr class="memdesc:ab9d98563541c29f191ada9db6342d2f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules <code>callback</code> to be called after the <code>delay</code> has elapsed.  <a href="#ab9d98563541c29f191ada9db6342d2f1">More...</a><br /></td></tr>
<tr class="separator:ab9d98563541c29f191ada9db6342d2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c28c831b19da6ae2da2d8320704d08b"><td class="memTemplParams" colspan="2">template&lt;typename Duration &gt; </td></tr>
<tr class="memitem:a2c28c831b19da6ae2da2d8320704d08b"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a2c28c831b19da6ae2da2d8320704d08b">Delay</a> (Duration delay, const std::function&lt; void(bool)&gt; &amp;callback)</td></tr>
<tr class="separator:a2c28c831b19da6ae2da2d8320704d08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85dea214dd0d852f095d610dab9d4d01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a85dea214dd0d852f095d610dab9d4d01">CancelTimer</a> (<a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a> timer)</td></tr>
<tr class="memdesc:a85dea214dd0d852f095d610dab9d4d01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the pending timer <code>timer</code>.  <a href="#a85dea214dd0d852f095d610dab9d4d01">More...</a><br /></td></tr>
<tr class="separator:a85dea214dd0d852f095d610dab9d4d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e29386336a606619802566dae659a7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a1e29386336a606619802566dae659a7f">AddClient</a> (<a class="el" href="structevent_1_1Client.html">Client</a> *callback, bool owned=false)</td></tr>
<tr class="memdesc:a1e29386336a606619802566dae659a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a listener for custom events from separate threads.  <a href="#a1e29386336a606619802566dae659a7f">More...</a><br /></td></tr>
<tr class="separator:a1e29386336a606619802566dae659a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e9c09751661e00b048795db7a5475d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#a7e9c09751661e00b048795db7a5475d9">RemoveClient</a> (<a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a> client)</td></tr>
<tr class="memdesc:a7e9c09751661e00b048795db7a5475d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an existing client event registration.  <a href="#a7e9c09751661e00b048795db7a5475d9">More...</a><br /></td></tr>
<tr class="separator:a7e9c09751661e00b048795db7a5475d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b858f1f05b58d487112066b77ef66e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#ac5b858f1f05b58d487112066b77ef66e">PostClientEvent</a> (<a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a> client, <a class="el" href="unionevent_1_1Client_1_1Data.html">Client::Data</a> data={0})</td></tr>
<tr class="memdesc:ac5b858f1f05b58d487112066b77ef66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the callback of a registered client event.  <a href="#ac5b858f1f05b58d487112066b77ef66e">More...</a><br /></td></tr>
<tr class="separator:ac5b858f1f05b58d487112066b77ef66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e04c88f27217e190429fe1a886d1b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#ad4e04c88f27217e190429fe1a886d1b7">Poll</a> ()</td></tr>
<tr class="memdesc:ad4e04c88f27217e190429fe1a886d1b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks until something happens, and then invokes the relevant callbacks.  <a href="#ad4e04c88f27217e190429fe1a886d1b7">More...</a><br /></td></tr>
<tr class="separator:ad4e04c88f27217e190429fe1a886d1b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42274d592320775a4f48d1f470c34d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer_8h.html#a8f233e9d1510db7ef4f34341f608bb16">base::TimerPoint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classevent_1_1Loop.html#ac42274d592320775a4f48d1f470c34d9">now</a> () const noexcept</td></tr>
<tr class="memdesc:ac42274d592320775a4f48d1f470c34d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current time of the clock used by scheduling timers.  <a href="#ac42274d592320775a4f48d1f470c34d9">More...</a><br /></td></tr>
<tr class="separator:ac42274d592320775a4f48d1f470c34d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Asynchronous event loop. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00112">112</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="acf8587cbfad1d8fcdb32083a7705bc71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8587cbfad1d8fcdb32083a7705bc71">&#9670;&nbsp;</a></span>PollFunc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classevent_1_1Loop.html#acf8587cbfad1d8fcdb32083a7705bc71">event::Loop::PollFunc</a> =  int(struct pollfd*, nfds_t, int)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function pointer type for the implementation of <code>poll(2)</code>. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00115">115</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a968d040d731fa11415d35526d3f5d0c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a968d040d731fa11415d35526d3f5d0c4">&#9670;&nbsp;</a></span>Loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">event::Loop::Loop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classevent_1_1Loop.html#acf8587cbfad1d8fcdb32083a7705bc71">PollFunc</a> *&#160;</td>
          <td class="paramname"><em>poll</em> = <code>&amp;::poll</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="structbase_1_1TimerFd.html">base::TimerFd</a> &gt;&#160;</td>
          <td class="paramname"><em>timerfd</em> = <code>std::unique_ptr&lt;<a class="el" href="structbase_1_1TimerFd.html">base::TimerFd</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a new event loop structure. </p>
<p>The <code>poll</code> and <code>timerfd</code> arguments can be used to override the poll and timer implementations used by the event loop. This is intended to be done only in tests. If not provided, the default implementations use <code>poll(2)</code> and <code>timerfd_create(2)</code> and the associated functions. </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00028">28</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a84449dbafb23fb5668fc6760824ed1c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84449dbafb23fb5668fc6760824ed1c7">&#9670;&nbsp;</a></span>ReadFd() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::ReadFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structevent_1_1FdReader.html">FdReader</a> *&#160;</td>
          <td class="paramname"><em>callback</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>owned</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts or stops observing <code>fd</code> for reading. </p>
<p>If <code>callback</code> is not provided, <code>fd</code> will be removed from the set of polled descriptors. Otherwise, it will be added. It is an error to try to add a file descriptor already monitored, or to remove a file descriptor that's not monitored.</p>
<p>If <code>owned</code> is set, the loop takes ownership of the callback object, and will destroy it when the file descriptor is removed (or the loop is destroyed). </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00039">39</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="a9ddeba5fd2cac6150a455aa1a0db3f91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ddeba5fd2cac6150a455aa1a0db3f91">&#9670;&nbsp;</a></span>ReadFd() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::ReadFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00139">139</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<a id="abd212dbda1fb531b7c0a4f60c20f8ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd212dbda1fb531b7c0a4f60c20f8ea0">&#9670;&nbsp;</a></span>WriteFd() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::WriteFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structevent_1_1FdWriter.html">FdWriter</a> *&#160;</td>
          <td class="paramname"><em>callback</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>owned</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts or stops observing <code>fd</code> for writing. </p>
<p>If <code>callback</code> is not provided, <code>fd</code> will be removed from the set of polled descriptors. Otherwise, it will be added. It is an error to try to add a file descriptor already monitored, or to remove a file descriptor that's not monitored.</p>
<p>If <code>owned</code> is set, the loop takes ownership of the callback object, and will destroy it when the file descriptor is removed (or the loop is destroyed). </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00060">60</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="ab797a8a274f5be3579f56e5f8c2554f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab797a8a274f5be3579f56e5f8c2554f2">&#9670;&nbsp;</a></span>WriteFd() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::WriteFd </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(int)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00155">155</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<a id="ab9d98563541c29f191ada9db6342d2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d98563541c29f191ada9db6342d2f1">&#9670;&nbsp;</a></span>Delay() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Duration &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a> event::Loop::Delay </td>
          <td>(</td>
          <td class="paramtype">Duration&#160;</td>
          <td class="paramname"><em>delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structevent_1_1Timed.html">Timed</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>owned</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Schedules <code>callback</code> to be called after the <code>delay</code> has elapsed. </p>
<p>This is a one-shot timer: after being called once, the timer is removed automatically.</p>
<p>If <code>owned</code> is set, the loop takes ownership of the callback object, and will destroy it when the timer elapses, is cancelled, or the loop is destroyed. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00168">168</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<a id="a2c28c831b19da6ae2da2d8320704d08b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c28c831b19da6ae2da2d8320704d08b">&#9670;&nbsp;</a></span>Delay() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Duration &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a> event::Loop::Delay </td>
          <td>(</td>
          <td class="paramtype">Duration&#160;</td>
          <td class="paramname"><em>delay</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::function&lt; void(bool)&gt; &amp;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00173">173</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<a id="a85dea214dd0d852f095d610dab9d4d01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85dea214dd0d852f095d610dab9d4d01">&#9670;&nbsp;</a></span>CancelTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::CancelTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="loop_8h.html#a647677d6c7e54af586b60ba3bb339895">TimerId</a>&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancels the pending timer <code>timer</code>. </p>
<p>After this method has been called, the callback is guaranteed to not execute, even if the scheduled time had passed and a call was already pending. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00183">183</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<a id="a1e29386336a606619802566dae659a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e29386336a606619802566dae659a7f">&#9670;&nbsp;</a></span>AddClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a> event::Loop::AddClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structevent_1_1Client.html">Client</a> *&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>owned</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a listener for custom events from separate threads. </p>
<p>If <code>owned</code> is set, the loop takes ownership of the callback object, and will destroy it when the listener is removed or the loop is destroyed.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structevent_1_1Client.html" title="Interface for reacting to events triggered from another thread. ">Client</a>, <a class="el" href="classevent_1_1ClientLong.html" title="Callback member function adapter for Client (with integer data). ">ClientLong</a>, <a class="el" href="classevent_1_1ClientPtr.html" title="Callback member function adapter for Client (with pointer data). ">ClientPtr</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00087">87</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="a7e9c09751661e00b048795db7a5475d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e9c09751661e00b048795db7a5475d9">&#9670;&nbsp;</a></span>RemoveClient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool event::Loop::RemoveClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a>&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes an existing client event registration. </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00100">100</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="ac5b858f1f05b58d487112066b77ef66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b858f1f05b58d487112066b77ef66e">&#9670;&nbsp;</a></span>PostClientEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::PostClientEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="loop_8h.html#a6ed0d72850cd935ff0221f8e361f4906">ClientId</a>&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionevent_1_1Client_1_1Data.html">Client::Data</a>&#160;</td>
          <td class="paramname"><em>data</em> = <code>{0}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Triggers the callback of a registered client event. </p>
<p>Unlike most methods of this class, this method can be safely called from any thread. </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00114">114</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="ad4e04c88f27217e190429fe1a886d1b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4e04c88f27217e190429fe1a886d1b7">&#9670;&nbsp;</a></span>Poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void event::Loop::Poll </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks until something happens, and then invokes the relevant callbacks. </p>

<p class="definition">Definition at line <a class="el" href="loop_8cc_source.html#l00125">125</a> of file <a class="el" href="loop_8cc_source.html">loop.cc</a>.</p>

</div>
</div>
<a id="ac42274d592320775a4f48d1f470c34d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42274d592320775a4f48d1f470c34d9">&#9670;&nbsp;</a></span>now()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer_8h.html#a8f233e9d1510db7ef4f34341f608bb16">base::TimerPoint</a> event::Loop::now </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current time of the clock used by scheduling timers. </p>

<p class="definition">Definition at line <a class="el" href="loop_8h_source.html#l00209">209</a> of file <a class="el" href="loop_8h_source.html">loop.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>event/<a class="el" href="loop_8h_source.html">loop.h</a></li>
<li>event/<a class="el" href="loop_8cc_source.html">loop.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>event</b></li><li class="navelem"><a class="el" href="classevent_1_1Loop.html">Loop</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
